namespace Scalemon.Common
{
    public class Enums
    {
        /// <summary>
        /// Определяет коды команд, отправляемых на контроллер Arduino для управления световой индикацией.
        /// </summary>
        public enum ArduinoSignalCode : byte
        {
            /// <summary>
            /// Включить индикатор связи с весами (лампа "Link").
            /// </summary>
            LinkOn = 0x10,

            /// <summary>
            /// Выключить все четыре индикатора. Используется при потере связи.
            /// </summary>
            LinkOff = 0x11,

            /// <summary>
            /// Включить зеленую лампу. Сигнализирует о готовности к новому взвешиванию (состояние "Готов").
            /// </summary>
            Idle = 0x12,

            /// <summary>
            /// Выключить зеленую и желтую лампы. Сигнализирует о процессе взвешивания (состояние "Нестабильно").
            /// </summary>
            Unstable = 0x13,

            /// <summary>
            /// Включить желтую лампу. Сигнализирует об успешной фиксации веса.
            /// </summary>
            Completed = 0x14,

            /// <summary>
            /// Включить желтую и красную лампы. Сигнализирует об ошибке взвешивания (например, вес меньше минимального).
            /// </summary>
            YellowRedOn = 0x15,

            /// <summary>
            /// Включить красную лампу. Сигнализирует о критической ошибке системы (аппаратный сбой, ошибка БД).
            /// </summary>
            RedOn = 0x16,

            /// <summary>
            /// Выключить красную лампу. Используется для сброса состояния ошибки.
            /// </summary>
            AlarmOff = 0x17
        }

        /// <summary>
        /// Определяет внутренние состояния конечного автомата (FSM) системы.
        /// </summary>
        public enum ScalesState
        {
            /// <summary>
            /// Начальное состояние. Связь с весами не установлена.
            /// </summary>
            Disconnected,

            /// <summary>
            /// Суперсостояние, объединяющее все состояния, когда весы подключены.
            /// </summary>
            Connected,

            /// <summary>
            /// Вес на платформе изменяется.
            /// </summary>
            Unstable,

            /// <summary>
            /// Суперсостояние, объединяющее все состояния, когда вес на платформе стабилен.
            /// </summary>
            Stabilized,

            /// <summary>
            /// Стабильный вес имеет отрицательное значение (например, после уборки воды с платформы).
            /// </summary>
            NegativeWeight,

            /// <summary>
            /// Стабильный вес равен нулю. Система готова к новому взвешиванию.
            /// </summary>
            ZeroWeight,

            /// <summary>
            /// Стабильный вес больше нуля, но меньше или равен гистерезису (HystWeight).
            /// </summary>
            LightWeight,

            /// <summary>
            /// Стабильный вес больше гистерезиса, но меньше минимально допустимого (MinWeight).
            /// </summary>
            InvalidWeight,

            /// <summary>
            /// Зафиксирован валидный вес, но предыдущее взвешивание не было обнулено.
            /// </summary>
            ErrorAfterWeighing,

            /// <summary>
            /// Валидный вес успешно зафиксирован и записан в базу данных.
            /// </summary>
            Recorded,

            /// <summary>
            /// Драйвер весов сообщил об аппаратной ошибке.
            /// </summary>
            ScaleError,

            /// <summary>
            /// Система заблокирована из-за невозможности записать данные в БД.
            /// </summary>
            DatabaseError
        }

        /// <summary>
        /// Определяет триггеры (события), которые вызывают переходы между состояниями конечного автомата.
        /// </summary>
        public enum Trigger
        {
            /// <summary>
            /// Произошло успешное подключение к весам.
            /// </summary>
            ScaleConnected,

            /// <summary>
            /// Произошла потеря связи с весами.
            /// </summary>
            ScaleDisconnected,

            /// <summary>
            /// Вес на платформе стал нестабильным.
            /// </summary>
            ScaleUnstable,

            /// <summary>
            /// Весы сообщили об аппаратной ошибке.
            /// </summary>
            ScaleAlarm,

            /// <summary>
            /// От процессора весов получено новое (стабильное) значение веса.
            /// </summary>
            WeightReceived,

            /// <summary>
            /// Нажата кнопка на пульте Arduino.
            /// </summary>
            ArduinoButtonPressed,

            /// <summary>
            /// Произошел сбой при записи в базу данных.
            /// </summary>
            DatabaseFailure,

            /// <summary>
            /// Связь с базой данных была успешно восстановлена.
            /// </summary>
            DatabaseRestored
        }




    }
}
