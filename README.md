# **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è "Scalemon"**

üß† **Scalemon** ‚Äî —ç—Ç–æ —Å–ª—É–∂–±–∞ Windows, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ. –û–Ω–∞ —Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –≤–µ—Å–æ–≤ "–ú–∞—Å—Å–∞-–ö", –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MS SQL Server. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –æ —Å–≤–æ–µ–º —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å –ø–æ–º–æ—â—å—é —Å–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Arduino.

## üìú **–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ**

1. [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)  
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)  
4. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)  
   * [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)  
   * [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)  
   * [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)  
   * [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-—Å–ª—É–∂–±—ã)  
5. [–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã](#–ª–æ–≥–∏–∫–∞-—Ä–∞–±–æ—Ç—ã)  
6. [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

## üìó **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** (#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
* **–û–ø—Ä–æ—Å –≤–µ—Å–æ–≤ –ø–æ COM-–ø–æ—Ä—Ç—É —Å —É—á—ë—Ç–æ–º –≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å–∞ –∏ –ø–æ—Ä–æ–≥–æ–≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Arduino (–∑–µ–ª—ë–Ω–∞—è/–∂—ë–ª—Ç–∞—è/–∫—Ä–∞—Å–Ω–∞—è –ª–∞–º–ø—ã)
* **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Microsoft SQL Server
* **–ù–∞–¥—ë–∂–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î
* **–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–µ—Å–æ–≤
* **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–±–æ—è—Ö

## üèó **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

–†–µ—à–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –±–∞–∑–µ .NET –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏:

* **Scalemon.ServiceHost**: –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ª—É–∂–±—É Windows. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –æ–±—â—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.  
* **Scalemon.FSM**: –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã. –†–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ (Finite State Machine) –Ω–∞ –±–∞–∑–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `Stateless`.  
* **Scalemon.SerialLink**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–µ—Å–∞–º–∏ "–ú–∞—Å—Å–∞-–ö" —á–µ—Ä–µ–∑ COM-–ø–æ—Ä—Ç. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∫–∞–∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥—Ä–∞–π–≤–µ—Ä, —Ç–∞–∫ –∏ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–∏–∫–ª –æ–ø—Ä–æ—Å–∞.  
* **Scalemon.SignalBus**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–≤—è–∑–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º Arduino (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –Ω–∞ —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ –æ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏).  
* **Scalemon.SqlDataAccess**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö MS SQL. –†–µ–∞–ª–∏–∑—É–µ—Ç –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—É—é –ª–æ–≥–∏–∫—É —Å –æ—á–µ—Ä–µ–¥—å—é –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª—É—á–∞–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î.  
* **Scalemon.Common**: –û–±—â–∏–π –ø—Ä–æ–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (`Enums`) –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ –≤—Å–µ–º —Ä–µ—à–µ–Ω–∏–∏.

1. ScaleProcessor –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å PeriodicTimer.
2. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –≤–µ—Å–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è: WeightReceived, Unstable, ScaleAlarm, ConnectionLost.
3. IScaleStateMachine –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä—ã —á–µ—Ä–µ–∑ –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç Stateless.
4. SignalBus –æ—Ç—Å—ã–ª–∞–µ—Ç –∫–æ–¥—ã ArduinoSignalCode –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∞–º–ø–∞–º–∏.
5. SqlDataAccess –ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ë–î –∏ —Å—Ç–∞–≤–∏—Ç –≤ –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ —Å–±–æ—è—Ö; —É–≤–µ–¥–æ–º–ª—è–µ—Ç FSM —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è DatabaseFailed/Restored.

## üíΩ **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏** (#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)

* **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: .NET 6+  
* **–Ø–∑—ã–∫–∏**: C\# –∏ VB.NET  
* **–¢–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: –°–ª—É–∂–±–∞ Windows (Windows Service)  
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: MS SQL Server 2019 (–∏–ª–∏ –Ω–æ–≤–µ–µ, Express Edition –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)  
* **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Serilog  
* **–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç**: Stateless

## ‚öôÔ∏è **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** (#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

### üñ•Ô∏è **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** (#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)

1. **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: Windows 10/11 –∏–ª–∏ Windows Server.  
2. **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: .NET Desktop Runtime 6.x (–∏–ª–∏ –Ω–æ–≤–µ–µ).  
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä MS SQL Server.

### üìö **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)

–ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Server Management Studio (SSMS).  
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π SQL-—Å–∫—Ä–∏–ø—Ç:

‚Äò‚Äô‚Äôsql  
\-- 1\. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)

IF NOT EXISTS (SELECT \* FROM sys.databases WHERE name \= 'WeighingDB')  
BEGIN  
    CREATE DATABASE WeighingDB;  
END  
GO

USE WeighingDB;  
GO

\-- 2\. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏–π  
IF NOT EXISTS (SELECT \* FROM sysobjects WHERE name='Weighings' and xtype='U')  
BEGIN  
    CREATE TABLE Weighings (  
        Id INT PRIMARY KEY IDENTITY(1,1),  
        Weight DECIMAL(18, 3\) NOT NULL,  
        RecordedAt DATETIME NOT NULL DEFAULT GETDATE()  
    );  
END  
GO  
‚Äò‚Äô‚Äô

### üìù **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–±–æ—Ç—ã —Å–ª—É–∂–±—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `appsettings.json`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–æ–º —Å–ª—É–∂–±—ã.

‚Äò‚Äô‚Äôjson

{  
  "DatabaseSettings": {  
    "MaxRetryQueueSize": 100,  
    "ConnectionString": "Server=.\\\\SQLEXPRESS;Database=WeighingDB;Trusted\_Connection=True;",  
    "TableName": "Weighings"  
  },  
  "ScaleSettings": {  
    "PortName": "COM2",  
    "PollingIntervalMs": 200,  
    "StableThreshold": 3,  
    "MinWeight": 5.0,  
    "HystWeight": 0.1  
  },  
  "PLCSettings": {  
    "PortName": "COM1",  
    "BaudRate": 9600  
  }  
}  
‚Äò‚Äô‚Äô

**–û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

* `DatabaseSettings`:  
  * `MaxRetryQueueSize`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î.  
  * `ConnectionString`: –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –≤–∞—à–µ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É MS SQL Server.  
  * `TableName`: –ò–º—è —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.  
* `ScaleSettings`:  
  * `PortName`: –ò–º—è COM-–ø–æ—Ä—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤–µ—Å—ã.  
  * `PollingIntervalMs`: –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞ –≤–µ—Å–æ–≤ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.  
  * `StableThreshold`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –≤–µ—Å–æ–≤, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤–µ—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º.  
  * `MinWeight`: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å (–≤ –∫–≥), –∫–æ—Ç–æ—Ä—ã–π —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º –¥–ª—è –∑–∞–ø–∏—Å–∏.  
  * `HystWeight`: –ü–æ—Ä–æ–≥ –≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å–∞ (–≤ –∫–≥). –í–µ—Å –Ω–∏–∂–µ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —à—É–º–æ–º.  
* `PLCSettings`:  
  * `PortName`: –ò–º—è COM-–ø–æ—Ä—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω Arduino.  
  * `BaudRate`: –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Ä—Ç–∞ Arduino.

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã** (#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-—Å–ª—É–∂–±—ã)

1. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `bin/Release` –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\Program Files\Scalemon`).  
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (cmd) –∏–ª–∏ PowerShell **–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª—É–∂–±—ã:  
‚Äò‚Äô‚Äôcmd  
sc create Scalemon binPath="C:\\Program Files\\Scalemon\\Scalemon.ServiceHost.exe"  
‚Äò‚Äô‚Äô

3. 

(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å–ª—É–∂–±—ã:  
‚Äò‚Äô‚Äôcmd  
sc description Scalemon "–°–ª—É–∂–±–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏–π —Å –≤–µ—Å–æ–≤ –ú–∞—Å—Å–∞-–ö."  
‚Äò‚Äô‚Äô

4. 

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª—É–∂–±—É:  
‚Äò‚Äô‚Äôcmd  
sc start Scalemon  
‚Äò‚Äô‚Äô

5. 

   –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sc stop Scalemon`, –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è ‚Äî `sc delete Scalemon`.

## **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã** (#–ª–æ–≥–∏–∫–∞-—Ä–∞–±–æ—Ç—ã)

–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω–µ—á–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–æ–º –∏ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –ù–∞ –≤–µ—Å–∞—Ö –Ω–µ—Ç –≥—Ä—É–∑–∞. –ì–æ—Ä–∏—Ç **–∑–µ–ª–µ–Ω–∞—è** –ª–∞–º–ø–∞.  
2. **–í–∑–≤–µ—à–∏–≤–∞–Ω–∏–µ**: –ù–∞ –≤–µ—Å—ã –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≥—Ä—É–∑. –ó–µ–ª–µ–Ω–∞—è –ª–∞–º–ø–∞ –≥–∞—Å–Ω–µ—Ç. –°–∏—Å—Ç–µ–º–∞ –æ–∂–∏–¥–∞–µ—Ç —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–∞.  
3. **–§–∏–∫—Å–∞—Ü–∏—è**: –í–µ—Å —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç `MinWeight`.  
   * **–£—Å–ø–µ—Ö**: –î–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î, –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è **–∂–µ–ª—Ç–∞—è** –ª–∞–º–ø–∞. –°–∏—Å—Ç–µ–º–∞ –∂–¥–µ—Ç, –ø–æ–∫–∞ –≥—Ä—É–∑ —É–±–µ—Ä—É—Ç.  
   * **–û—à–∏–±–∫–∞**: –ï—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≥—Ä—É–∑ –Ω–µ –±—ã–ª —É–±—Ä–∞–Ω (–Ω–µ –±—ã–ª–æ –æ–±–Ω—É–ª–µ–Ω–∏—è), –∑–∞–≥–æ—Ä–∞—é—Ç—Å—è **–∂–µ–ª—Ç–∞—è –∏ –∫—Ä–∞—Å–Ω–∞—è** –ª–∞–º–ø—ã.  
4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ì—Ä—É–∑ —É–±—Ä–∞–Ω —Å –≤–µ—Å–æ–≤. –ñ–µ–ª—Ç–∞—è –ª–∞–º–ø–∞ –≥–∞—Å–Ω–µ—Ç. –°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–ø.1).

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏–ª–∏ —Å–±–æ–µ–≤ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è **–∫—Ä–∞—Å–Ω–∞—è** –ª–∞–º–ø–∞, –∏ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏, –æ–∂–∏–¥–∞—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã.

## **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

–°–ª—É–∂–±–∞ –≤–µ–¥–µ—Ç –¥–≤–∞ –ª–æ–≥-—Ñ–∞–π–ª–∞, –ø—É—Ç–∏ –∫ –∫–æ—Ç–æ—Ä—ã–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `appsettings.json`:

* **main.log**: –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ —Å —É—Ä–æ–≤–Ω–µ–º `Information`. –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è: –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞, —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏.  
* **detailed.log**: –î–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ —Å —É—Ä–æ–≤–Ω–µ–º `Debug`. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ª–æ–≥–∞, –∞ —Ç–∞–∫–∂–µ –ø–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

